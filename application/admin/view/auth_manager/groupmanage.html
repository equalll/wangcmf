{extend name="basic:layout"}
{block name="page_header"}
权限节点管理
{/block}
{block name="page_header_small"}
编辑
{/block}
{block name="content"}
<div class="row"><!--使用bootstrap的全局样式row-->
    <div class="col-md-12"><!--使用bootstrap的全局样式col 控制box的宽度-->
        <!-- general form elements -->
        <form class="form-horizontal" action="{:url('edit_group')}" method="post">
            <input type="hidden" value="{:input('group_id')}" name="id" />
        {volist name="node_list" id="node"}
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">{$node.title}</h3>
                <input class="node-check" type="checkbox" value="{$node.id}" name="rules[]"
                       {if condition="in_array( $node['id'] , $auth_group_nodes )"}checked="checked"{/if}/>
            </div>
            <div class="box-body">
                {volist name="node.child" id="child"}
                    <div class="row">
                        <div class="col-md-12">
                            <span class="node-title">{$child.title}</span>
                            <input class="node-check" type="checkbox" value="{$child.id}"  name="rules[]"
                                   {if condition="in_array( $child['id'] , $auth_group_nodes )"}checked="checked"{/if}/>
                        </div>
                    </div>
                    <div>
                        <div class="col-md-12 node-row">
                            {if condition="isset($child['operator'])"}
                                {volist name="child.operator" id="item"}
                                    <span class="node-child" style="">{$item.title}:
                                        <input class="node-check" type="checkbox" name="rules[]" value="{$item.id}"
                                               {if condition="in_array( $item['id'] , $auth_group_nodes )"}checked="checked"{/if}
                                        />&nbsp;&nbsp;&nbsp;&nbsp;
                                    </span>
                                {/volist}
                            {/if}
                            <div class="clear"></div>
                        </div>
                    </div>
                {/volist}
            </div>
        </div>
        {/volist}
        <div class="box">
            <div class="box-footer">
                <a href="javascript:history.back();" class="btn btn-default">返回上一级</a>
                <button type="button" target-form="form-horizontal" class="btn btn-info pull-right ajax-post">保存</button>
            </div>
            <!-- /.box-footer -->
        </div>
        </form>
    </div>
</div>
{/block}